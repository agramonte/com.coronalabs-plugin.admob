apply plugin: 'com.android.library'

android {
    compileSdkVersion 29

    defaultConfig {
        minSdkVersion 16
        targetSdkVersion 29
        versionCode 1
        versionName "1.0"
    }
}

afterEvaluate {
    generateReleaseBuildConfig.enabled = false
    generateDebugBuildConfig.enabled = false
}

dependencies {
    implementation ':Corona@aar'
    implementation 'com.google.android.gms:play-services-ads:19.5.0'
}

    task exportAARToThePluginBinary(type: Copy) {
    dependsOn assemble
    from {
        zipTree("$buildDir/outputs/aar/${project.name}-release.aar").matching {
            include 'classes.jar'
        }.singleFile
    }
    into "../../../plugins/2020.3607/android/"
    rename "classes.jar", "plugin.admob.jar"
}

assemble.finalizedBy(exportAARToThePluginBinary)